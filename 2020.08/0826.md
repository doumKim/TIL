# TIL_20.08.26 ğŸƒğŸ½â€â™‚ï¸ğŸƒğŸ½â€â™‚ï¸

<img src="https://media.vlpt.us/images/kdo0129/post/29ca955c-708b-4ed6-8e6d-8384dd9bc755/marathon-3753907_960_720.jpg" alt="marathon" />

# Codestates immersive course

## Redux ìŠ¤í”„ë¦°íŠ¸

ì˜¤ëŠ˜ì€ ì–´ì œ ë¯¸ë¦¬ ê³¼ì œë¥¼ ì™„ì„±í•´ ë†“ì€ ìƒíƒœë¼ í˜¼ìì„œ ë³µìŠµì„ í•˜ëŠ” ì‹œê°„ì„ ê°€ì¡Œë‹¤.

íŠ¹íˆ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ connectë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ storeì— ì ‘ê·¼í•˜ê²Œ í•´ì£¼ëŠ” ë°©ë²•ë³´ë‹¤

í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ react-reduxì—ì„œ ì§€ì›í•˜ëŠ” useSelector, useDispatchë¥¼ ì´ìš©í•´ì„œ

ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ë§Œë“¤ì–´ ë´¤ë‹¤.

ì¼ë‹¨ ê·¸ë˜ë„ connect í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ”ê±°ë¶€í„° ë‹¤ì‹œ ì •ë¦¬í•´ë³´ë©´

connect(mapStateToProps,mapDispatchToProps)(Component) ì´ëŸ°ì‹ìœ¼ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

**mapStateToProps**

> As the first argument passed in to connect, mapStateToProps is used for selecting the part of the data from the store that the connected component needs. Itâ€™s frequently referred to as just mapState for short.
> It is called every time the store state changes.
> It receives the entire store state, and should return an object of data this component needs. -ì¶œì²˜ ë¦¬ë•ìŠ¤ ê³µì‹ ë¬¸ì„œ

**mapDispatchToProps**

> As the second argument passed in to connect, mapDispatchToProps is used for dispatching actions to the store.
> dispatch is a function of the Redux store. You call store.dispatch to dispatch an action. This is the only way to trigger a state change.
> With React Redux, your components never access the store directly - connect does it for you. React Redux gives you two ways to let components dispatch actions:
> By default, a connected component receives props.dispatch and can dispatch actions itself.
> connect can accept an argument called mapDispatchToProps, which lets you create functions that dispatch when called, and pass those functions as props to your component.
> The mapDispatchToProps functions are normally referred to as mapDispatch for short, but the actual variable name used can be whatever you want.

ë¬´íŠ¼ ë‚˜ëŠ” container ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³  connectë¥¼ ì´ìš©í•´ì„œ ì»´í¬ë„ŒíŠ¸ì—ì„œ storeì— ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì£¼ê²Œ í•˜ëŠ”ê²Œ ê·€ì°®ìœ¼ë‹ˆ useSelectorì™€ useDispatchë¥¼ ì‚¬ìš©í•˜ê² ë‹¤.

Flux íŒ¨í„´ì„ ìƒê°í•˜ë©° _**action -> dispatch -> store -> view**_

**ì•¡ì…˜ ìƒì„± í•¨ìˆ˜**

```js
const INCREMENT = 'INCREMENT';
const DECREMENT = 'DECREMENT';

export const increment = () => ({
  type: INCREMENT,
});

export const decrement = () => ({
  type: DECREMENT,
});
```

**ë¦¬ë“€ì„œ í•¨ìˆ˜ ìƒì„±**

```js
import * as types from '../actions/actionTypes';

const initialState = {
  count: 0,
};

const counter = (state = initialState, action) => {
  switch (action.type) {
    case types.INCREMENT:
      return {
        ...state,
        count: state.count + 1,
      };
    case types.DECREMENT:
      return {
        ...state,
        count: state.count - 1,
      };
    default:
      return state;
  }
};

export default counter;
```

**store ìƒì„±**

```js
import React from 'react';
import ReactDOM from 'react-dom';
import App from './components/App';
import { Provider } from 'react-redux';
import { createStore } from 'redux';
import reducers from './reducers';

const store = createStore(reducers);

const rootElement = document.getElementById('root');
ReactDOM.render(
  <Provider store={store}>
    <React.StrictMode>
      <App />
    </React.StrictMode>
  </Provider>,
  rootElement,
);
```

**Counter.js**

```js
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { increment, decrement } from '../actions';

const Counter = () => {
  let count = useSelector((state) => state.counter.count);
  const dispatch = useDispatch();
  return (
    <>
      <h1>{count}</h1>
      <button onClick={() => dispatch(increment())}>+1</button>
      <button onClick={() => dispatch(decrement())}>-1</button>
    </>
  );
};

export default Counter;
```
